{"version":3,"file":"validateEmail.js","sources":["../../../music_app_frontend/src/validateEmail.ts"],"sourcesContent":["//Create function that validates email address\nexport function checkEmailIsValid(email: string): null | string {\n    //Define const variables\n    const trimmedEmail = email.trim().toLowerCase();\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.com$/;\n\n    //Condition to check against validation rule\n    if (emailPattern.test(trimmedEmail)) {\n        return null;\n    }\n    return \"The e-mail address is not valid. It must contain '@' and '.com'.\";\n};\n\n\n//Integrate with the HTML page + Django form\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    //Define const variables\n    const form = document.getElementById(\"auth-form\") as HTMLFormElement;\n    const emailInput = document.getElementById(\"id_email\") as HTMLInputElement;\n    const emailError = document.getElementById(\"email-error\") as HTMLDivElement;\n\n    //Check that all const exist\n    if (!form || !emailInput || !emailError) {\n        console.warn('Required elements not found:', {\n            form: !!form,\n            emailInput: !!emailInput,\n            emailError: !!emailError\n        });\n        return;\n    }\n\n    //Perform validation on form once user clicks \"submits\"\n    form.addEventListener(\"submit\", (event: SubmitEvent) => {\n        const error = checkEmailIsValid(emailInput.value);\n\n        if (error) {\n            event.preventDefault(); //stop the Django form submission\n            emailError.textContent = error;\n        } else {\n            emailError.textContent = \"\";\n        }\n    });\n      console.log('validateEmail initialized');\n});"],"names":["checkEmailIsValid","email","trimmedEmail","form","emailInput","emailError","event","error"],"mappings":"AACO,SAASA,EAAkBC,EAA8B,CAE5D,MAAMC,EAAeD,EAAM,KAAA,EAAO,YAAA,EAIlC,MAHqB,0CAGJ,KAAKC,CAAY,EACvB,KAEJ,kEACX,CAIA,SAAS,iBAAiB,mBAAoB,IAAM,CAEhD,MAAMC,EAAO,SAAS,eAAe,WAAW,EAC1CC,EAAa,SAAS,eAAe,UAAU,EAC/CC,EAAa,SAAS,eAAe,aAAa,EAGxD,GAAI,CAACF,GAAQ,CAACC,GAAc,CAACC,EAAY,CACrC,QAAQ,KAAK,+BAAgC,CACzC,KAAM,CAAC,CAACF,EACR,WAAY,CAAC,CAACC,EACd,WAAY,CAAC,CAACC,CAAA,CACjB,EACD,MACJ,CAGAF,EAAK,iBAAiB,SAAWG,GAAuB,CACpD,MAAMC,EAAQP,EAAkBI,EAAW,KAAK,EAE5CG,GACAD,EAAM,eAAA,EACND,EAAW,YAAcE,GAEzBF,EAAW,YAAc,EAEjC,CAAC,EACC,QAAQ,IAAI,2BAA2B,CAC7C,CAAC"}