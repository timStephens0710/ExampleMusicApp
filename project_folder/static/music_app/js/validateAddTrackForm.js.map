{"version":3,"file":"validateAddTrackForm.js","sources":["../../../music_app_frontend/src/validateAddTrackForm.ts"],"sourcesContent":["//Create functions\n//check field is empty\nexport function checkIsNull(formText: string): string | null {\n    //Check for empty input\n    if (!formText) {\n        return \"This field is mandatory, it cannot be empty.\"\n    }\n    return null\n}\n//check length (250 is the max)\nexport function checkLength250(formText: string): string | null {\n    //Check that formText not greater than 250\n    if (formText.length > 250){\n        return \"This text is too long, please ensure it's length is less than 250 characters.\"\n    }\n    return null\n}\n//check streaming plaform\nexport function supportedStreamingPlatformIsSelected(formDropDown: string): null | string{\n    //Supported platforms \n    const supportedPlatforms = [\n        'YouTube',\n        'YouTube Music',\n        'Bandcamp',\n    ]\n    //Check if user selected a supported platform\n    if (supportedPlatforms.includes(formDropDown)) {\n        return null;\n    }\n\n    return \"Please select a supported platform from the options below\"\n};\n//orchestrateCheckFormText function\nexport function orchestrateCheckFormText(formText: string): string | null {\n    //Check if formText is null\n    const nullError = checkIsNull(formText)\n    if (nullError) return nullError\n\n    //Check if formText > 250\n    const lengthError = checkLength250(formText)\n    if (lengthError) return lengthError\n\n    //All validations have passed\n    return null\n};\n\n//validateAddTrackForm\ndocument.addEventListener(\"DOMContentLoaded\", (): void => {\n    const form = document.getElementById(\"auth-form\") as HTMLFormElement;\n    const formTextInput = document.querySelector<HTMLInputElement>(\".control-label.requiredField\");\n    const formTextError = document.getElementById(\"form-text-error\") as HTMLDivElement;\n    const streamingPlatformInput = document.getElementById(\"id_streaming_platform\") as HTMLInputElement;\n    const streamingPlatformError = document.getElementById(\"streaming-platform-error\") as HTMLDivElement;\n\n    //Check that all required elements exist\n    if (!form || !formTextInput || !formTextError || !streamingPlatformInput || !streamingPlatformError) {\n        console.warn(\"Required elements not found:\", {\n            form: !!form,\n            formTextInput: !!formTextInput,\n            formTextError: !!formTextError,\n            streamingPlatformInput: !!streamingPlatformInput,\n            streamingPlatformError: !!streamingPlatformError\n        });\n        return;\n    }\n\n    //Perform validation on form once user clicks \"submit\"\n    form.addEventListener(\"submit\", (event: SubmitEvent) => {\n        //Validate form text\n        const textError = orchestrateCheckFormText(formTextInput.value);\n        if (textError) {\n            event.preventDefault();\n            formTextError.textContent = textError;\n        } else {\n            formTextError.textContent = \"\";\n        }\n\n        //Validate streaming platform\n        const streamingDropDownError = supportedStreamingPlatformIsSelected(streamingPlatformInput.value);\n        if (streamingDropDownError) {\n            event.preventDefault();\n            streamingPlatformError.textContent = streamingDropDownError;\n        } else {\n            streamingPlatformError.textContent = \"\";\n        }\n    });\n\n    console.log(\"validateAddTrackForm initialized\");\n});\n"],"names":["checkIsNull","formText","checkLength250","supportedStreamingPlatformIsSelected","formDropDown","orchestrateCheckFormText","nullError","lengthError","form","formTextInput","formTextError","streamingPlatformInput","streamingPlatformError","event","textError","streamingDropDownError"],"mappings":"AAEO,SAASA,EAAYC,EAAiC,CAEzD,OAAKA,EAGE,KAFI,8CAGf,CAEO,SAASC,EAAeD,EAAiC,CAE5D,OAAIA,EAAS,OAAS,IACX,gFAEJ,IACX,CAEO,SAASE,EAAqCC,EAAoC,CAQrF,MAN2B,CACvB,UACA,gBACA,UAAA,EAGmB,SAASA,CAAY,EACjC,KAGJ,2DACX,CAEO,SAASC,EAAyBJ,EAAiC,CAEtE,MAAMK,EAAYN,EAAYC,CAAQ,EACtC,GAAIK,EAAW,OAAOA,EAGtB,MAAMC,EAAcL,EAAeD,CAAQ,EAC3C,OAAIM,GAGG,IACX,CAGA,SAAS,iBAAiB,mBAAoB,IAAY,CACtD,MAAMC,EAAO,SAAS,eAAe,WAAW,EAC1CC,EAAgB,SAAS,cAAgC,8BAA8B,EACvFC,EAAgB,SAAS,eAAe,iBAAiB,EACzDC,EAAyB,SAAS,eAAe,uBAAuB,EACxEC,EAAyB,SAAS,eAAe,0BAA0B,EAGjF,GAAI,CAACJ,GAAQ,CAACC,GAAiB,CAACC,GAAiB,CAACC,GAA0B,CAACC,EAAwB,CACjG,QAAQ,KAAK,+BAAgC,CACzC,KAAM,CAAC,CAACJ,EACR,cAAe,CAAC,CAACC,EACjB,cAAe,CAAC,CAACC,EACjB,uBAAwB,CAAC,CAACC,EAC1B,uBAAwB,CAAC,CAACC,CAAA,CAC7B,EACD,MACJ,CAGAJ,EAAK,iBAAiB,SAAWK,GAAuB,CAEpD,MAAMC,EAAYT,EAAyBI,EAAc,KAAK,EAC1DK,GACAD,EAAM,eAAA,EACNH,EAAc,YAAcI,GAE5BJ,EAAc,YAAc,GAIhC,MAAMK,EAAyBZ,EAAqCQ,EAAuB,KAAK,EAC5FI,GACAF,EAAM,eAAA,EACND,EAAuB,YAAcG,GAErCH,EAAuB,YAAc,EAE7C,CAAC,EAED,QAAQ,IAAI,kCAAkC,CAClD,CAAC"}